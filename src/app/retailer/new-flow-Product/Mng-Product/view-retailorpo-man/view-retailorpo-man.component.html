<section class="content">
  <div class="content-block">
    <h4 class="mt-4">
      <i class="bi bi-person-vcard-fill h3"></i> {{ isNewPO ? 'Generate PO' : 'PO List' }}
    </h4>

    <div class="card mt-3 p-4">
      <div class="p-grid p-fluid">
        <div class="p-col-12 text-center">
          <p-table [value]="tableData">
            <ng-template pTemplate="header">
              <tr>
                <th>Retailer's Name</th>
                <th>Company Name</th>
                <th>Email</th>
                <th>PO Number</th>
                <th>Status</th>
                <th>View</th>
              </tr>
            </ng-template>

            <ng-template pTemplate="body" let-data>
              <tr>
                <td class="text-center">{{ data.retailer?.fullName || 'N/A' }}</td>
                <td class="text-center">{{ data.retailer?.companyName || 'N/A' }}</td>
                <td class="text-center">{{ data.retailer?.email || 'N/A' }}</td>
                <td class="text-center">{{ data.poNumber || 'N/A' }}</td>
                <td class="text-center">{{ data.statusAll || 'N/A' }}</td>
                <td class="text-center">
                  <a [routerLink]="['/retailer/new/retailerpo-generate', { id: data.id }]">
                    <button class="btn"><i class="bi bi-eye h5"></i></button>
                  </a>
                </td>
              </tr>
            </ng-template>
          </p-table>

          <!-- Conditional messages -->
          <div *ngIf="!tableData" class="data-not-found mt-3 d-flex justify-content-center align-items-center">
            <p>PO List Not Found [Server Error]</p>
          </div>

          <div *ngIf="tableData?.length === 0" class="data-not-found mt-3 d-flex justify-content-center align-items-center">
            <p>Your PO List is Currently Empty.</p>
          </div>

          <!-- Pagination -->
          <p-paginator
            *ngIf="tableData && tableData.length > 0"
            (onPageChange)="onPageChange($event)"
            [first]="first"
            [rows]="rows"
            [totalRecords]="totalResults"
            [rowsPerPageOptions]="[10, 20, 30]"
          ></p-paginator>
        </div>
      </div>
    </div>

    <!-- Advertisement -->
    <div class="mb-3">
      <app-bottom-side-advertise [imageUrl]="bottomAdImage"></app-bottom-side-advertise>
    </div>
  </div>
</section>
