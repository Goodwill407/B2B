<section class="content">
    <div class="content-block">
      <h4 class="mt-4"><i class="bi bi-person-vcard-fill h3"></i> {{ isNewPO ? 'Generate PO' : 'Wholesaler PO List' }}</h4>
      <div class="card mt-3 p-4">
        <mat-tab-group>
        
          <!-- PENDING TAB -->
          <mat-tab label="Pending">
            <div class="card mt-3 p-4">
              <div class="p-grid p-fluid">
                <div class="p-col-12 text-center">
                  <p-table [value]="pendingData">
                    <ng-template pTemplate="header">
                      <tr>
                        <th>Wholesaler's Name</th>
                        <th>Company Name</th>
                        <th>Email</th>
                        <th>PO Number</th>
                        <th>Status</th>
                        <th>View</th>
                      </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-data>
                      <tr>
                        <td class="text-center">{{ data.wholesaler.fullName }}</td>
                        <td class="text-center">{{ data.wholesaler.companyName }}</td>
                        <td class="text-center">{{ data.wholesaler.email }}</td>
                        <td class="text-center">{{ data.poNumber }}</td>
                        <td class="text-center">{{ data.statusAll }}</td>
                        <td class="text-center">
                          <button class="btn" [routerLink]="['/mnf/edit-gen-wh-po-order', { id: data.id }]">
                            <i class="bi bi-eye h5"></i>
                          </button>
                        </td>
                      </tr>
                    </ng-template>
                  </p-table>
  
                  <div *ngIf="!pendingData" class="data-not-found mt-3 d-flex justify-content-center align-items-center">
                    <p>PO List Data Not Found. [Server Error]</p>
                  </div>
                  <div *ngIf="pendingData.length == 0" class="data-not-found mt-3 d-flex justify-content-center align-items-center">
                    <p>Your PO List is Currently Empty.</p>
                  </div>
  
                  <p-paginator
                    *ngIf="pendingData.length > 0"
                    (onPageChange)="onPendingPageChange($event)"
                    [first]="firstPending"
                    [rows]="limit"
                    [totalRecords]="totalPendingResults"
                    [rowsPerPageOptions]="[10, 20, 30]">
                  </p-paginator>
                </div>
              </div>
            </div>
          </mat-tab>
  
          <!-- Partial Data -->
          <mat-tab label="Partial">
            <div class="card mt-3 p-4">
              <div class="p-grid p-fluid">
                <div class="p-col-12 text-center">
                  <p-table [value]="partialData">
                    <ng-template pTemplate="header">
                      <tr>
                        <th>Wholesaler's Name</th>
                        <th>Company Name</th>
                        <th>Email</th>
                        <th>PO Number</th>
                        <th>Status</th>
                        <th>View</th>
                      </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-data>
                      <tr>
                        <td class="text-center">{{ data.wholesaler.fullName }}</td>
                        <td class="text-center">{{ data.wholesaler.companyName }}</td>
                        <td class="text-center">{{ data.wholesaler.email }}</td>
                        <td class="text-center">{{ data.poNumber }}</td>
                        <td class="text-center">
                          {{ data.statusAll === 'm_partial_delivery' ? 'Partial Delivery' : data.statusAll }}
                        </td>
                        <td class="text-center">
                          <button class="btn" [routerLink]="['/mnf/view-updated-wh-po-order', { id: data.id }]">
                            <i class="bi bi-eye h5"></i>
                          </button>
                        </td>
                      </tr>
                    </ng-template>
                  </p-table>

                  <div *ngIf="!partialData" class="data-not-found mt-3 d-flex justify-content-center align-items-center">
                    <p>PO List Data Not Found. [Server Error]</p>
                  </div>
                  <div *ngIf="partialData.length == 0" class="data-not-found mt-3 d-flex justify-content-center align-items-center">
                    <p>Your PO List is Currently Empty.</p>
                  </div>

                  <p-paginator
                    *ngIf="partialData.length > 0"
                    (onPageChange)="onPartialPageChange($event)"
                    [first]="firstPartial"
                    [rows]="limit"
                    [totalRecords]="totalPartialResults"
                    [rowsPerPageOptions]="[10, 20, 30]">
                  </p-paginator>
                </div>
              </div>
            </div>
          </mat-tab>

          <!-- Confirmed TAB -->
          <mat-tab label="Confirmed">
            <div class="card mt-3 p-4">
              <div class="p-grid p-fluid">
                <div class="p-col-12 text-center">
                  <p-table [value]="confirmedData">
                    <ng-template pTemplate="header">
                      <tr>
                        <th>Wholesaler's Name</th>
                        <th>Company Name</th>
                        <th>Email</th>
                        <th>PO Number</th>
                        <th>Status</th>
                        <th>View</th>
                      </tr>
                    </ng-template>
                    <ng-template pTemplate="body" let-data>
                      <tr>
                        <td class="text-center">{{ data.wholesaler.fullName }}</td>
                        <td class="text-center">{{ data.wholesaler.companyName }}</td>
                        <td class="text-center">{{ data.wholesaler.email }}</td>
                        <td class="text-center">{{ data.poNumber }}</td>
                        <td class="text-center"> {{data.statusAll === 'm_order_confirmed' ? 'Manufacturer Confirmed' : data.statusAll}}</td>
                        <td class="text-center">
                          <button class="btn" [routerLink]="['/mnf/view-updated-wh-po-order', { id: data.id }]">
                            <i class="bi bi-eye h5"></i>
                          </button>
                        </td>
                      </tr>
                    </ng-template>
                  </p-table>
  
                  <div *ngIf="!confirmedData" class="data-not-found mt-3 d-flex justify-content-center align-items-center">
                    <p>PO List Data Not Found. [Server Error]</p>
                  </div>
                  <div *ngIf="confirmedData.length == 0" class="data-not-found mt-3 d-flex justify-content-center align-items-center">
                    <p>Your PO List is Currently Empty.</p>
                  </div>
  
                  <p-paginator
                    *ngIf="confirmedData.length > 0"
                    (onPageChange)="onConfirmedPageChange($event)"
                    [first]="firstUpdated"
                    [rows]="limit"
                    [totalRecords]="totalConfirmedResults"
                    [rowsPerPageOptions]="[10, 20, 30]">
                  </p-paginator>
                </div>
              </div>
            </div>
          </mat-tab>

        </mat-tab-group>
      </div>
    </div>
  </section>
  