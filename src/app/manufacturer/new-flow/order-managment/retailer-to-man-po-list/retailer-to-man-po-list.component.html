<section class="content">
  <div class="content-block">
    <h4 class="mt-4">
      <i class="bi bi-person-vcard-fill h3"></i>
      {{isNewPO ? 'Generate PO' : 'Retailer PO List'}}
    </h4>
    <div class="card mt-3 p-4">
      <div class="p-grid p-fluid">
        <div class="p-col-12 text-center">
          <p-table [value]="tableData">
            <ng-template pTemplate="header">
              <tr>
                <th>Retailer's Name</th>
                <th>Company Name</th>
                <th>Email</th>
                <th>PO Number</th>
                <th>Status</th>
                <th>View</th>
              </tr>
            </ng-template>

            <ng-template pTemplate="body" let-data>
              <tr>
                <td class="text-center">{{ data.retailer.fullName }}</td>
                <td class="text-center">{{ data.retailer.companyName }}</td>
                <td class="text-center">{{ data.retailer.email }}</td>
                <td class="text-center">{{ data.poNumber }}</td>
                <td class="text-center">{{ data.statusAll }}</td>
                <td class="text-center">
                  <button class="btn" [routerLink]="['/mnf/ret-po-list-view', { id: data.id }]">
                    <i class="bi bi-eye h5"></i>
                  </button>
                </td>
              </tr>
            </ng-template>
          </p-table>

          <!-- Fallback messages -->
          <div *ngIf="!tableData" class="data-not-found mt-3 d-flex justify-content-center align-items-center">
            <p>Retailer Purchase Orders Not Found. [Server Error]</p>
          </div>
          <div *ngIf="tableData?.length === 0" class="data-not-found mt-3 d-flex justify-content-center align-items-center">
            <p>No Retailer Purchase Orders available.</p>
          </div>

          <!-- Pagination -->
          <p-paginator *ngIf="tableData && tableData.length > 0"
                       (onPageChange)="onPageChange($event)"
                       [first]="first"
                       [rows]="rows"
                       [totalRecords]="totalResults"
                       [rowsPerPageOptions]="[10, 20, 30]">
          </p-paginator>
        </div>
      </div>
    </div>
  </div>
</section>
